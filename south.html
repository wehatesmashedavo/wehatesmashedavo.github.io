<!DOCTYPE html>
<html>
  <head>
  	<link rel="stylesheet" href="style.css">
    <!--jQuery-->
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>   
    <!--Script for slideshow-->
    <script src="./jquery.cycle.all.min.js"></script>

    <!--External Script-->
    <script src="./script.js" type="text/javascript"></script>
    
    <!--Bootstrap-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="
    sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
      <!--Icon-->
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <!--Fonts-->
    <link href="https://fonts.googleapis.com/css?family=Amatic+SC|Rozha+One" rel="stylesheet">
  </head>
  <body>


<!--Social Media bar-->
    <div id="social" class="container-fluid">
      <div class="row">
        <div class="col-sm-4"></div>
        <div class="col-sm-4">  
          <a href="https://twitter.com" class="socialmedia"><img src="./icons/twitter.png"></a>
          <a href="https://www.snapchat.com/l/en-gb/" class="socialmedia"><img src="./icons/snapchat.png"></a>
          <a href="https://www.facebook.com"class="socialmedia"><img src="./icons/facebook.png"></a>
          <a href="https://www.instagram.com/?hl=en" class="socialmedia"><img src="./icons/instagram.png"></a>
          <a href="https://mail.google.com/" class="socialmedia"><img src="./icons/gmail.png"></a>
        </div>
        <div class="col-sm-4"></div>
        </div>
    </div>


    <!--End social media bar-->

    <!--Start of Navigation bar-->
    <div id="Navigationbar" class="container-fluid">
      <div class="row">       
          <div class="col-sm"><a href="./index.html" class="box">Home</a></div>
          <div class="col-sm"><a href="./central.html" class="box">Central Manchester</a></div>
          <div class="col-sm"><a href="./north.html" class="box">North Manchester</a></div>
          <div class="col-sm"><a href="./south.html" class="box">South Manchester</a></div>
          <div class="col-sm"><a href="./Bestbrunch.html" class="box">Manchester's Best Brunch</a></div>
          
        </div>
    </div>

    <!--End of Navigation bar HTML-->

    <!--Body Content-->

   <div class="heading"> 
    <h1>South Manchester</h1>
    <br />
    <p>These brunch spots are a little further out from the City Center, but are more than worth the trip!</p>
   </div>   

    <br />

    <div class="laundrette">
      <p>Laundrette
        <br />
      <small>Laundrette is the ultimate fashionable spot in Manchester, known for its bathtubs of gin and retro styling. Brunch is served every day of the week, so it's great if you've been playing out on a school night!</small></p>  
    </div> 

    <br />

    <div class="alberts">
      <p>Albert's Shed
      <br />
      <small>This Castlefield restaurant is about as no-fuss as they come, serving up breakfast butties, waffles and fry ups. Make the most of the terrace for an al fresco breakfast in the warmer months.</small></p>  
    </div>  

    <br />

    <div class="refuge">
      <p> Refuge
      <br />
      <small>Refuge is tucked within the Prinipal hotel at the South of the City. Serving a small range of classics, like bacon butties and crumpets. Come for the coffee, stay for the great music and atmosphere.</small> </p>
    </div>

    <br />

    <!--End of Body Content-->

<!--Scripts-->
<script>
  $('div.laundrette').on('click', function() {
 $(this).toggleClass('show-description');
 });

  $('div.alberts').on('click', function() {
 $(this).toggleClass('show-description');
 });

  $('div.refuge').on('click', function() {
 $(this).toggleClass('show-description');
 });

</script>
<!--End of Scripts-->

<br />
<center>
<h1>Locations</h1>
<br />
<h3>Click the pins for more details, such as opening times</h3>
<br />
</center>

<!--Google Maps API-->

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA25f_4i-YoOH9tRd3r16Jlw4IZ3l7Dwoo&extension=.js"></script>
<script src="https://cdn.mapkit.io/v1/infobox.js"></script> 
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400" rel="stylesheet"> 
<link href="https://cdn.mapkit.io/v1/infobox.css" rel="stylesheet" > 
 
<script> 
    google.maps.event.addDomListener(window, 'load', init);
    var map, markersArray = [];

    function bindInfoWindow(marker, map, location) {
        google.maps.event.addListener(marker, 'click', function() {
            function close(location) {
                location.ib.close();
                location.infoWindowVisible = false;
                location.ib = null;
            }

            if (location.infoWindowVisible === true) {
                close(location);
            } else {
                markersArray.forEach(function(loc, index){
                    if (loc.ib && loc.ib !== null) {
                        close(loc);
                    }
                });

                var boxText = document.createElement('div');
                boxText.style.cssText = 'background: #fff;';
                boxText.classList.add('md-whiteframe-2dp');

                function buildPieces(location, el, part, icon) {
                    if (location[part] === '') {
                        return '';
                    } else if (location.iw[part]) {
                        switch(el){
                            case 'photo':
                                if (location.photo){
                                    return '<div class="iw-photo" style="background-image: url(' + location.photo + ');"></div>';
                                 } else {
                                    return '';
                                }
                                break;
                            case 'iw-toolbar':
                                return '<div class="iw-toolbar"><h3 class="md-subhead">' + location.title + '</h3></div>';
                                break;
                            case 'div':
                                switch(part){
                                    case 'email':
                                        return '<div class="iw-details"><i class="material-icons" style="color:#4285f4;"><img src="//cdn.mapkit.io/v1/icons/' + icon + '.svg"/></i><span><a href="mailto:' + location.email + '" target="_blank">' + location.email + '</a></span></div>';
                                        break;
                                    case 'web':
                                        return '<div class="iw-details"><i class="material-icons" style="color:#4285f4;"><img src="//cdn.mapkit.io/v1/icons/' + icon + '.svg"/></i><span><a href="' + location.web + '" target="_blank">' + location.web_formatted + '</a></span></div>';
                                        break;
                                    case 'desc':
                                        return '<label class="iw-desc" for="cb_details"><input type="checkbox" id="cb_details"/><h3 class="iw-x-details">Details</h3><i class="material-icons toggle-open-details"><img src="//cdn.mapkit.io/v1/icons/' + icon + '.svg"/></i><p class="iw-x-details">' + location.desc + '</p></label>';
                                        break;
                                    default:
                                        return '<div class="iw-details"><i class="material-icons"><img src="//cdn.mapkit.io/v1/icons/' + icon + '.svg"/></i><span>' + location[part] + '</span></div>';
                                    break;
                                }
                                break;
                            case 'open_hours':
                                var items = '';
                                if (location.open_hours.length > 0){
                                    for (var i = 0; i < location.open_hours.length; ++i) {
                                        if (i !== 0){
                                            items += '<li><strong>' + location.open_hours[i].day + '</strong><strong>' + location.open_hours[i].hours +'</strong></li>';
                                        }
                                        var first = '<li><label for="cb_hours"><input type="checkbox" id="cb_hours"/><strong>' + location.open_hours[0].day + '</strong><strong>' + location.open_hours[0].hours +'</strong><i class="material-icons toggle-open-hours"><img src="//cdn.mapkit.io/v1/icons/keyboard_arrow_down.svg"/></i><ul>' + items + '</ul></label></li>';
                                    }
                                    return '<div class="iw-list"><i class="material-icons first-material-icons" style="color:#4285f4;"><img src="//cdn.mapkit.io/v1/icons/' + icon + '.svg"/></i><ul>' + first + '</ul></div>';
                                 } else {
                                    return '';
                                }
                                break;
                         }
                    } else {
                        return '';
                    }
                }

                boxText.innerHTML = 
                    buildPieces(location, 'photo', 'photo', '') +
                    buildPieces(location, 'iw-toolbar', 'title', '') +
                    buildPieces(location, 'div', 'address', 'location_on') +
                    buildPieces(location, 'div', 'web', 'public') +
                    buildPieces(location, 'div', 'email', 'email') +
                    buildPieces(location, 'div', 'tel', 'phone') +
                    buildPieces(location, 'div', 'int_tel', 'phone') +
                    buildPieces(location, 'open_hours', 'open_hours', 'access_time') +
                    buildPieces(location, 'div', 'desc', 'keyboard_arrow_down');

                var myOptions = {
                    alignBottom: true,
                    content: boxText,
                    disableAutoPan: true,
                    maxWidth: 0,
                    pixelOffset: new google.maps.Size(-140, -40),
                    zIndex: null,
                    boxStyle: {
                        opacity: 1,
                        width: '280px'
                    },
                    closeBoxMargin: '0px 0px 0px 0px',
                    infoBoxClearance: new google.maps.Size(1, 1),
                    isHidden: false,
                    pane: 'floatPane',
                    enableEventPropagation: false
                };

                location.ib = new InfoBox(myOptions);
                location.ib.open(map, marker);
                location.infoWindowVisible = true;
            }
        });
    }

    function init() {
        var mapOptions = {
            center: new google.maps.LatLng(53.46403687108628,-2.223588083007826),
            zoom: 13,
            gestureHandling: 'auto',
            fullscreenControl: false,
            zoomControl: true,
            disableDoubleClickZoom: true,
            mapTypeControl: true,
            mapTypeControlOptions: {
                style: google.maps.MapTypeControlStyle.HORIZONTAL_BAR,
            },
            scaleControl: true,
            scrollwheel: true,
            streetViewControl: true,
            draggable : true,
            clickableIcons: false,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
        }
        var mapElement = document.getElementById('mapkit-8905');
        var map = new google.maps.Map(mapElement, mapOptions);
        var locations = [
            {"title":"Laundrette","address":"14 Matthews Ln, Manchester M19 3DS, UK","desc":"","tel":"","int_tel":"","email":"","web":"","web_formatted":"","open":"","time":"","lat":53.4491896,"lng":-2.189734999999928,"vicinity":"14 Matthews Lane, Manchester","open_hours":"","marker":{"url":"https://maps.gstatic.com/mapfiles/api-3/images/spotlight-poi_hdpi.png","scaledSize":{"width":25,"height":42,"f":"px","b":"px"},"origin":{"x":0,"y":0},"anchor":{"x":12,"y":42}},"iw":{"address":true,"desc":true,"email":true,"enable":true,"int_tel":true,"open":true,"open_hours":true,"photo":true,"tel":true,"title":true,"web":true}},{"title":"The Refuge","address":"Oxford St, Manchester M60 7HA, UK","desc":"","tel":"0161 233 5151","int_tel":"+44 161 233 5151","email":"","web":"","web_formatted":"","open":"Open","time":"1905","lat":53.47461080000001,"lng":-2.240874299999973,"vicinity":"Oxford Street, Manchester","open_hours":[{"day":"Monday","hours":"12–10pm"},{"day":"Tuesday","hours":"12–10pm"},{"day":"Wednesday","hours":"12–10pm"},{"day":"Thursday","hours":"12–10pm"},{"day":"Friday","hours":"12–10pm"},{"day":"Saturday","hours":"12–10pm"},{"day":"Sunday","hours":"12–9pm"}],"marker":{"url":"https://maps.gstatic.com/mapfiles/api-3/images/spotlight-poi_hdpi.png","scaledSize":{"width":25,"height":42,"f":"px","b":"px"},"origin":{"x":0,"y":0},"anchor":{"x":12,"y":42}},"iw":{"address":true,"desc":true,"email":true,"enable":true,"int_tel":true,"open":true,"open_hours":true,"photo":true,"tel":true,"title":true,"web":true}},{"title":"Albert's Shed, Castlefield","address":"18-20 Castle St, Manchester M3 4LZ, UK","desc":"","tel":"0161 839 9818","int_tel":"+44 161 839 9818","email":"","web":"","web_formatted":"","open":"Open","time":"1905","lat":53.4743037,"lng":-2.255674699999986,"vicinity":"18-20 Castle Street, Manchester","open_hours":[{"day":"Monday","hours":"12–10pm"},{"day":"Tuesday","hours":"12–10pm"},{"day":"Wednesday","hours":"12–10pm"},{"day":"Thursday","hours":"12–10pm"},{"day":"Friday","hours":"12–10:30pm"},{"day":"Saturday","hours":"10:30am–11pm"},{"day":"Sunday","hours":"10:30am–9:30pm"}],"marker":{"url":"https://maps.gstatic.com/mapfiles/api-3/images/spotlight-poi_hdpi.png","scaledSize":{"width":25,"height":42,"f":"px","b":"px"},"origin":{"x":0,"y":0},"anchor":{"x":12,"y":42}},"iw":{"address":true,"desc":true,"email":true,"enable":true,"int_tel":true,"open":true,"open_hours":true,"photo":true,"tel":true,"title":true,"web":true}}
        ];
        for (i = 0; i < locations.length; i++) {
            marker = new google.maps.Marker({
                icon: locations[i].marker,
                position: new google.maps.LatLng(locations[i].lat, locations[i].lng),
                map: map,
                title: locations[i].title,
                address: locations[i].address,
                desc: locations[i].desc,
                tel: locations[i].tel,
                int_tel: locations[i].int_tel,
                vicinity: locations[i].vicinity,
                open: locations[i].open,
                open_hours: locations[i].open_hours,
                photo: locations[i].photo,
                time: locations[i].time,
                email: locations[i].email,
                web: locations[i].web,
                iw: locations[i].iw
            });
            markersArray.push(marker);

            if (locations[i].iw.enable === true){
                bindInfoWindow(marker, map, locations[i]);
            }
        }
    }
</script>


<div id='mapkit-8905'></div>

<!--End of Google Maps--> 

<!--Footer bees-->
<div class="footer bees">
        <img src="./images/WMBee.png">
        <img src="./images/WMBee.png">
        <img src="./images/WMBee.png">
        <img src="./images/WMBee.png">
        <img src="./images/WMBee.png">
        
    </div>
<!-- end of footer bees-->

  </body>

</html>